<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D8PMW3CCL2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-D8PMW3CCL2",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Ditto" href="/opensearch.xml">
<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-PV7QFWF",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager -->
<script src="/js/fix-trailing-slash.js"></script><title data-react-helmet="true">2 - Configure Ditto | Ditto</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.ditto.live/ios/tutorial/swift/configure-ditto"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-ios-current"><meta data-react-helmet="true" property="og:title" content="2 - Configure Ditto | Ditto"><meta data-react-helmet="true" name="description" content="2-1 Create Your Ditto App"><meta data-react-helmet="true" property="og:description" content="2-1 Create Your Ditto App"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.ditto.live/ios/tutorial/swift/configure-ditto"><link data-react-helmet="true" rel="alternate" href="https://docs.ditto.live/ios/tutorial/swift/configure-ditto" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.ditto.live/ios/tutorial/swift/configure-ditto" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://F25GUUSPFJ-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.5e310d74.css">
<link rel="preload" href="/assets/js/runtime~main.c9affc1a.js" as="script">
<link rel="preload" href="/assets/js/main.15e5fe15.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" width="25" height="25"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><a href="https://ditto.live" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logos/blue.png" alt="Ditto Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logos/blue.png" alt="Ditto Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Ditto</b></a><a class="navbar__item navbar__link" href="/">Documentation</a><a href="https://github.com/getditto/samples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Example Apps</span></a><a href="https://github.com/getditto" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Open Source</span></a><a href="https://github.com/getditto/docs/discussions/categories/roadmap-and-ideas" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Roadmap</span></a><a class="navbar__item navbar__link" href="/changelog">Changelog</a><a class="navbar__item navbar__link" href="/faq">FAQ</a></div><div class="navbar__items navbar__items--right"><a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Login</span></a><div class="searchBox_Bc3W"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_LIo8"><nav class="overflow-y-auto menu thin-scrollbar overflow-x-visible menu_oAhv menuWithAnnouncementBar_IVfW"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/ios/installation">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Tutorials</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-NaN menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">SwiftUI</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/ios/tutorial/swift/setup">1 - Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ios/tutorial/swift/configure-ditto">2 - Configure Ditto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/ios/tutorial/swift/tasks-list-screen">3 - Showing the List of Tasks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/ios/tutorial/swift/edit-screen">4 - Editing Tasks</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-NaN menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">UIKit</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item"><a class="menu__link menu__link--sublist" href="#">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/ios/common/concepts/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/ios/common/concepts/documents">Documents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/ios/common/concepts/writing">Writing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/ios/common/concepts/querying">Querying</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/ios/common/concepts/syncing-data">Syncing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/ios/common/concepts/remove">Removing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/ios/common/concepts/schemas">Schemas</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Types</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Mesh Network</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Quick Tips</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Change Data Capture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">How it Works</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Experimental</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/ios/common/v3">3.0 Migration guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/ios/common/v4">4.0 Migration guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/ios/common/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/ios/common/faq">Frequently Asked Questions</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_MGa7"><div class="docItemContainer_PQH2"><article class="prose max-w-none"><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_psec"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>2 - Configure Ditto</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="2-1-create-your-ditto-app">2-1 Create Your Ditto App<a aria-hidden="true" class="hash-link" href="#2-1-create-your-ditto-app" title="Direct link to heading">​</a></h2><p>Before we start coding, we first need to create a new app in the <a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer">portal</a>. Apps created on the portal will automatically sync data between them and also to the Ditto Big Peer.</p><p>Each app created on the portal has a unique <code>appID</code> which can be seen on your app&#x27;s settings page once the app has been created. This ID is used in subsequent sections to configure your Ditto instance.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="2-2-add-permissions-to-the-infoplist">2-2 Add Permissions to the <code>Info.plist</code><a aria-hidden="true" class="hash-link" href="#2-2-add-permissions-to-the-infoplist" title="Direct link to heading">​</a></h2><p>For Ditto to fully use all the network transports like Bluetooth Low Energy, Local Area Network, Apple Wireless Direct, the app will need to ask the user for permissions. These permission prompts need to be in the <strong>Info.plist</strong> file of your project.</p><p>Follow the instructions on the <a href="/ios/installation#platform-permissions">iOS Installation page</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="2-3-add-ditto-to-tasksappswift">2-3 Add <code>ditto</code> to <code>TasksApp.swift</code><a aria-hidden="true" class="hash-link" href="#2-3-add-ditto-to-tasksappswift" title="Direct link to heading">​</a></h2><p>When Xcode generated your project, there should be a file called <strong>TasksApp.swift</strong>. We will need an instance of Ditto throughout this tutorial and the app&#x27;s lifecycle.</p><ol><li>First import Ditto with <code>import DittoSwift</code></li><li>Construct an instance of Ditto with an online playground identity using the APP ID of the app that you just created on the portal. We are using an <code>.onlinePlayground</code> setup, which should suffice for this tutorial. However, you should never deploy this to a production environment like the Apple App Store.</li><li>We will call <code>startSync</code> as soon as the app&#x27;s <code>ContentView</code> appears. Add two <code>@State</code> variables to capture if <code>ditto.startSync</code> throws an error. One variable will be <code>@State var isPresentingAlert = false</code> and the other is a <code>@State var errorMessage = &quot;&quot;</code>.</li><li>Add an <code>.onAppear</code> function and give it a plagyground token. Look for <code>&quot;YOUR_APP_ID_HERE&quot;</code> and insert your valid token. You can get a token from our <a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer">Big Peer portal</a>. If the <code>startSync()</code> fails, we will set <code>isPresentingAlert = true</code> and set the <code>errorMessage</code> to the error&#x27;s <code>.localizedDescription</code>.</li><li>We will then present a <code>.alert</code> if <code>isPresentingAlert</code> is true. Notice that we will pass a <code>@State</code> variable as a binding type, which is why we denoted <code>$isPresentingAlert</code> prefixed with a <code>$</code>. To learn more about SwiftUI&#x27;s <code>Binding</code> types like <code>@State</code> <a href="https://developer.apple.com/tutorials/app-dev-training/managing-data-flow-between-views" target="_blank" rel="noopener noreferrer">click here.</a></li></ol><div class="codeBlockContainer_EiTO"><div style="color:#9CDCFE;background-color:#1E1E1E" class="codeBlockTitle_PQMO">TasksApp.swift</div><div class="codeBlockContent_X2I6 swift"><pre tabindex="0" class="prism-code language-swift codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">import SwiftUI</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// 1.</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">import DittoSwift</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">@main</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">struct TasksApp: App {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // 2.</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">    var ditto = Ditto(identity: .onlinePlayground(appID: &quot;YOUR_APP_ID_HERE&quot;, token: &quot;YOUR_TOKEN_HERE&quot;))</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // 3.</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">    @State var isPresentingAlert = false</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">    @State var errorMessage = &quot;&quot;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var body: some Scene {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        WindowGroup {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            TasksListScreen(ditto: ditto)</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                // 4</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">                .onAppear(perform: {</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">                    do {</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">                        try ditto.startSync()</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">                    } catch (let err){</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">                        isPresentingAlert = true</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">                        errorMessage = err.localizedDescription</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">                    }</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">                })</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                // 5.</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">                .alert(isPresented: $isPresentingAlert) {</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">                    Alert(title: Text(&quot;Uh Oh&quot;), message: Text(&quot;There was an error trying to start the sync. Here&#x27;s the error \(errorMessage) Ditto will continue working as a local database.&quot;), dismissButton: .default(Text(&quot;Got it!&quot;)))</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">                }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="2-4-create-a-task-struct">2-4 Create a <code>Task</code> struct<a aria-hidden="true" class="hash-link" href="#2-4-create-a-task-struct" title="Direct link to heading">​</a></h2><p>Ditto is a document database, which represents all of its rows in the database a JSON-like structure. In this tutorial, we will define each task like so:</p><div class="codeBlockContainer_EiTO"><div class="codeBlockContent_X2I6 jsonc"><pre tabindex="0" class="prism-code language-jsonc codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  &quot;_id&quot;: &quot;123abc&quot;,</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  &quot;body&quot;: &quot;Get Milk&quot;,</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  &quot;isCompleted&quot;: true</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div><p>These Task documents will all be in the &quot;tasks&quot; collection. We will be referencing this collection throughout this tutorial with:</p><div class="codeBlockContainer_EiTO"><div class="codeBlockContent_X2I6 swift"><pre tabindex="0" class="prism-code language-swift codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">let tasksCollection = ditto.store[&quot;tasks&quot;]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div><p>Ditto documents have a flexible structure. Oftentimes, in strongly-typed languages like Swift, we will create a data structure give more definition to the app.</p><p>Create a new Swift file called <strong>Task.swift</strong> in your project.</p><ol><li>Add <code>import DittoSwift</code> to the top of the file.</li><li>Add the matching variables <code>let _id: String</code>, <code>let body: String</code>, and <code>let isCompleted: Bool</code> to the struct. We will use this to match the document values to to the struct.</li><li>Add an <code>init</code> constructor to <code>Task</code> that takes in a <code>DittoDocument</code></li><li>In the <code>init</code> constructor, parse out the document&#x27;s keys with Ditto&#x27;s type safe value accessors. This will safely map all the document&#x27;s values to the struct&#x27;s variables that we created in step 2.</li><li>Add a second <code>init</code> constructor to <code>Task</code> that just takes a <code>String</code> and a <code>bool</code></li><li>Add an <code>extension Task: Identifiable</code> right below the <code>Task</code> struct definition and implement <code>var id: String</code> to return the <code>_id</code> key. We add the <code>Identifiable</code> protocol to assist SwiftUI&#x27;s <code>List</code> view and <code>ForEach</code> component in later sections. Collection views in SwiftUI require knowing if a view is unique to prevent wasteful redraws. While it may seem confusing, we are only allowing the protocol to read the <code>_id</code> that we added in step 2.</li></ol><div class="codeBlockContainer_EiTO"><div style="color:#9CDCFE;background-color:#1E1E1E" class="codeBlockTitle_PQMO">Task.swift</div><div class="codeBlockContent_X2I6 swift"><pre tabindex="0" class="prism-code language-swift codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">// 1.</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">import DittoSwift</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">struct Task {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // 2.</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    let _id: String</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    let body: String</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    let isCompleted: Bool</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // 3.</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    init(document: DittoDocument) {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        // 4.</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        _id = document[&quot;_id&quot;].stringValue</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        body = document[&quot;body&quot;].stringValue</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        isCompleted = document[&quot;isCompleted&quot;].boolValue</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // 5.</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    init(body: String, isCompleted: Bool) {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        self._id = UUID().uuidString</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        self.body = body</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        self.isCompleted = isCompleted</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// 6.</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">extension Task: Identifiable {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var id: String {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return _id</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div><p>This data class takes a <code>DittoDocument</code> and safely parses out the values into native Swift types. We also added constructor that allows us to preview data without requiring Ditto.</p><p>So now in our application if we want an array of <code>Tasks</code>, <code>[Task]</code>, we can write the following code:</p><div class="codeBlockContainer_EiTO"><div class="codeBlockContent_X2I6 swift"><pre tabindex="0" class="prism-code language-swift codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">let tasks: [Task] = ditto.store[&quot;tasks&quot;].find(&quot;!isDeleted&quot;).exec().map({ Task(document: $0) })</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div><p>Once we set up our user interface, you&#x27;ll notice that reading these values becomes a bit easier with this added structure.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="2-5-create-a-taskslistscreen-view">2-5 Create a <code>TasksListScreen</code> view<a aria-hidden="true" class="hash-link" href="#2-5-create-a-taskslistscreen-view" title="Direct link to heading">​</a></h2><p>When we generated the project, Xcode created a default <code>ContentView</code>, which need to swap out for a better starter view. Let&#x27;s create a view called <code>TasksListScreen</code> which will show the list of the views.</p><ol><li>Create a new <strong>SwiftUI View</strong> View by clicking <strong>File &gt; New &gt; SwiftUI View</strong></li></ol><p><img alt="Xcode File New SwiftUI view" src="/assets/images/xcode-new-swiftui-view-5c5bd524ecc6bf16786a4645664a7002.png"></p><ol start="2"><li><p>Name it <strong>&quot;TasksListScreen&quot;</strong></p></li><li><p>At the top of the new <strong>TasksListScreen.</strong>Add Ditto with <code>import DittoSwift</code> at the top of the file</p></li><li><p>Create a constructor and a variable to pass <code>var ditto: Ditto</code></p></li><li><p>Replace the <code>body</code> with <code>NavigationView</code> with a single <code>List</code> child. We will fill out the contents of the <code>List</code> in the next section. We&#x27;ve also added a couple of decorative navigation elements which we will hook up later. This includes a navigation title, <code>.navigationTitle</code> which shows the name of the app, a navigation plus button in <code>.navigationBarItems</code> and a <code>.sheet</code> that we will use navigate to an <code>EditScreen</code>. We will create the <code>EditScreen</code> later.</p></li></ol><div class="codeBlockContainer_EiTO"><div style="color:#9CDCFE;background-color:#1E1E1E" class="codeBlockTitle_PQMO">TasksListScreen.swift</div><div class="codeBlockContent_X2I6 swift"><pre tabindex="0" class="prism-code language-swift codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">import SwiftUI</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// 3.</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">import DittoSwift</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">struct TasksListScreen: View {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // 4.</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">    let ditto: Ditto</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">    init(ditto: Ditto) {</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">        self.ditto = ditto</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">    }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    var body: some View {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        // 5.</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">        NavigationView {</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">            List {</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">            }</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">            .navigationTitle(&quot;Tasks - SwiftUI&quot;)</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">            .navigationBarItems(trailing: Button(action: {</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">            }, label: {</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">                Image(systemName: &quot;plus&quot;)</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">            }))</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">            .sheet(isPresented: .constant(false), content: {</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">            })</span></span><span class="token-linebg-gray-800 docusaurus-highlight-code-line bg-gray-700" style="color:#9CDCFE"><span class="token plain">        }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/getditto/docs/tree/main/docs/ios/tutorial/swift/2-configure-ditto.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/ios/tutorial/swift/setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->1 - Setup</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/ios/tutorial/swift/tasks-list-screen"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">3 - Showing the List of Tasks<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#2-1-create-your-ditto-app" class="table-of-contents__link toc-highlight">2-1 Create Your Ditto App</a></li><li><a href="#2-2-add-permissions-to-the-infoplist" class="table-of-contents__link toc-highlight">2-2 Add Permissions to the <code>Info.plist</code></a></li><li><a href="#2-3-add-ditto-to-tasksappswift" class="table-of-contents__link toc-highlight">2-3 Add <code>ditto</code> to <code>TasksApp.swift</code></a></li><li><a href="#2-4-create-a-task-struct" class="table-of-contents__link toc-highlight">2-4 Create a <code>Task</code> struct</a></li><li><a href="#2-5-create-a-taskslistscreen-view" class="table-of-contents__link toc-highlight">2-5 Create a <code>TasksListScreen</code> view</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Documentation</a></li><li class="footer__item"><a href="https://www.ditto.live/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Main Website</span></a></li><li class="footer__item"><a href="https://github.com/getditto/samples" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Example Apps</span></a></li><li class="footer__item"><a class="footer__link-item" href="/changelog">Changelog</a></li><li class="footer__item"><a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Login</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/getditto/docs/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub Discussions</span></a></li><li class="footer__item"><a href="https://github.com/getditto/docs/discussions/categories/roadmap-and-ideas" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Roadmap</span></a></li><li class="footer__item"><a href="https://github.com/getditto/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Open Source</span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/ditto" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow</span></a></li><li class="footer__item"><a href="https://twitter.com/dittolive" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter</span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 DittoLive, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c9affc1a.js"></script>
<script src="/assets/js/main.15e5fe15.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PV7QFWF" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>