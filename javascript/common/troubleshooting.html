<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D8PMW3CCL2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-D8PMW3CCL2",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Ditto" href="/opensearch.xml">
<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-PV7QFWF",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager -->
<script src="/js/fix-trailing-slash.js"></script><title data-react-helmet="true">Troubleshooting | Ditto</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.ditto.live/javascript/common/troubleshooting"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-javascript-current"><meta data-react-helmet="true" property="og:title" content="Troubleshooting | Ditto"><meta data-react-helmet="true" name="description" content="Android and iOS apps are not syncing, why?"><meta data-react-helmet="true" property="og:description" content="Android and iOS apps are not syncing, why?"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.ditto.live/javascript/common/troubleshooting"><link data-react-helmet="true" rel="alternate" href="https://docs.ditto.live/javascript/common/troubleshooting" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.ditto.live/javascript/common/troubleshooting" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://F25GUUSPFJ-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.9fa6fe62.css">
<link rel="preload" href="/assets/js/runtime~main.f1cf67ce.js" as="script">
<link rel="preload" href="/assets/js/main.86d17a58.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" width="25" height="25"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><a href="https://ditto.live" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logos/blue.png" alt="Ditto Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logos/blue.png" alt="Ditto Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Ditto</b></a><a class="navbar__item navbar__link" href="/">Documentation</a><a href="https://github.com/getditto/samples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Example Apps</span></a><a href="https://github.com/getditto" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Open Source</span></a><a href="https://github.com/getditto/docs/discussions/categories/roadmap-and-ideas" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Roadmap</span></a><a class="navbar__item navbar__link" href="/changelog">Changelog</a><a class="navbar__item navbar__link" href="/faq">FAQ</a></div><div class="navbar__items navbar__items--right"><a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Login</span></a><div class="searchBox_Bc3W"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_LIo8"><nav class="overflow-y-auto menu thin-scrollbar overflow-x-visible menu_oAhv menuWithAnnouncementBar_IVfW"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/javascript/installation">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item"><a class="menu__link menu__link--sublist" href="#">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/documents">Documents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/writing">Writing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/querying">Querying</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/syncing-data">Syncing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/remove">Removing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/javascript/common/concepts/schemas">Schemas</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Types</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Mesh Network</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Change Data Capture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">How it Works</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a href="https://software.ditto.live/js/Ditto/4.0.0/api-reference/" target="_blank" rel="noopener noreferrer" class="menu__link"><span>API Reference</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/javascript/common/v3">3.0 Migration guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/javascript/common/v4">4.0 Migration guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/javascript/common/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/javascript/common/faq">Frequently Asked Questions</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_MGa7"><div class="docItemContainer_PQH2"><article class="prose max-w-none"><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_psec"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Troubleshooting</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="android-and-ios-apps-are-not-syncing-why">Android and iOS apps are not syncing, why?<a aria-hidden="true" class="hash-link" href="#android-and-ios-apps-are-not-syncing-why" title="Direct link to heading">​</a></h2><p>If you are having trouble synchronizing devices in Ditto, follow this guide.</p><p>If you continue to have problems, please email us at
<a href="mailto:support@ditto.live" target="_blank" rel="noopener noreferrer">support@ditto.live</a> or <a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer">login to your Ditto
account</a> to chat with the support bot in the lower
right corner of your screen. An engineer will reach out to you shortly.</p><ol><li>Set <code>DittoLogger.minimumLogLevel</code> to <code>Debug</code> before you initialize <code>Ditto(identity)</code>.</li><li>Look at the logs. Do you see any helpful errors or warnings?</li><li>Verify that your app id is the same on all devices</li></ol><p>If there is nothing in the logs, see the following sections for more information.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="online-playground">Online Playground<a aria-hidden="true" class="hash-link" href="#online-playground" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="did-you-copy-your-playground-token-and-app-id-correctly">Did you copy your playground token and App ID correctly?<a aria-hidden="true" class="hash-link" href="#did-you-copy-your-playground-token-and-app-id-correctly" title="Direct link to heading">​</a></h4><ol><li>Login to the <a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer">Portal</a> </li><li>Go to your App.</li><li>Make sure that the portal playground token is the same as the value you are using in your code.</li></ol><p><img alt="Online Playground enabled in the Ditto Portal" src="/assets/images/portal-playground-setting-99074a40a3741119540b4be524814aa5.png"></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="did-your-device-connect-to-the-internet">Did your device connect to the internet?<a aria-hidden="true" class="hash-link" href="#did-your-device-connect-to-the-internet" title="Direct link to heading">​</a></h4><p><code>OnlinePlayground</code> applications must connect to the Big Peer first
<em>before</em> going offline. <a href="/javascript/common/mesh-network/online-playground">Read more about online playground</a>.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="do-you-have-a-firewall-or-proxy-enabled-that-is-blocking-dittos-connection-to-the-big-peer">Do you have a firewall or proxy enabled that is blocking Ditto&#x27;s connection to the Big Peer?<a aria-hidden="true" class="hash-link" href="#do-you-have-a-firewall-or-proxy-enabled-that-is-blocking-dittos-connection-to-the-big-peer" title="Direct link to heading">​</a></h4><p>A proxy may either either block connections or cause errors in the log by substituting its own
TLS certificate: <code>invalid certificate: UnknownIssuer</code>. If you see this log message you will either
need to get Ditto unblocked or add the CA certificate to the Small Peer&#x27;s trusted certificate store.</p><p>Verify that you can reach the following endpoints. You should see the output exactly as written below:</p><div class="codeBlockContainer_EiTO"><div class="codeBlockContent_X2I6"><pre tabindex="0" class="prism-code language-undefined codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">&gt; nc -v MY_APP_ID.cloud.ditto.live 443</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Connection to MY_APP_ID.cloud.ditto.live port 443 [tcp/https] succeeded!</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">^C</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div><div class="codeBlockContainer_EiTO"><div class="codeBlockContent_X2I6"><pre tabindex="0" class="prism-code language-undefined codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">&gt; curl -i https://MY_APP_ID.cloud.ditto.live/_ditto/auth/login</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">HTTP/1.1 405 Method Not Allowed</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Date: Fri, 30 Sep 2022 02:03:36 GMT</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Type: text/plain; charset=utf-8</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Content-Length: 23</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Connection: keep-alive</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Access-Control-Allow-Origin: *</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Access-Control-Allow-Credentials: true</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Access-Control-Allow-Methods: GET, PUT, POST, DELETE, PATCH, OPTIONS</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Access-Control-Allow-Headers: X-DITTO-ENSURE-INSERT,X-HYDRA-ENSURE-INSERT,X-DITTO-CLIENT-ID,X-HYDRA-CLIENT-ID,Accept,Referer,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Forwarded-For</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Access-Control-Max-Age: 1728000</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">HTTP method not allowed% </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div><p>If this test passes, next check to see if WebSockets are blocked on your
machine. Some corporate networks, firewalls, or proxies block the HTTP upgrade
packet that tells the WebSocket server to keep the connection alive. Check with
your IT administrator to see if your computer is configured to block WebSocket connections.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="online-with-authentication">Online with Authentication<a aria-hidden="true" class="hash-link" href="#online-with-authentication" title="Direct link to heading">​</a></h3><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Verify this isn&#x27;t simply a permission misconfiguration issue. Are you able to
try the operations with global read and write permission to verify it succeeds
in this case? That could narrow down what&#x27;s going on.</p></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="did-you-follow-the-tutorial">Did you follow the <a href="/javascript/common/security/authentication#tutorial">tutorial</a>?<a aria-hidden="true" class="hash-link" href="#did-you-follow-the-tutorial" title="Direct link to heading">​</a></h4><p>The tutorial is your best guide for implementing this correctly. See the <a href="https://github.com/getditto/samples/tree/main/authentication" target="_blank" rel="noopener noreferrer">code on GitHub for a complete working example</a>.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="is-the-server-behind-https-and-open">Is the server behind <code>https</code> and open?<a aria-hidden="true" class="hash-link" href="#is-the-server-behind-https-and-open" title="Direct link to heading">​</a></h4><p>Ensure that Ditto&#x27;s Big Peer server hosted in the United States on AWS can send a POST request to your authentication server. </p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="are-you-implementing-the-delegates-correctly">Are you implementing the delegates correctly?<a aria-hidden="true" class="hash-link" href="#are-you-implementing-the-delegates-correctly" title="Direct link to heading">​</a></h4><p><code>authenticationExpiringSoon</code> and <code>authenticationRequired</code> both need to be
implemented according to the <a href="/javascript/common/security/authentication#creating-your-client">sample
code</a>.</p><p>Do not create subscriptions inside the callbacks. These callbacks are only
called on first launch and when the certificate expires.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="verify-that-your-webhook-provider-name-is-correctly-copied-in-the-ditto-portal">Verify that your webhook provider name is <a href="/javascript/common/security/authentication#login">correctly copied in the Ditto portal</a>.<a aria-hidden="true" class="hash-link" href="#verify-that-your-webhook-provider-name-is-correctly-copied-in-the-ditto-portal" title="Direct link to heading">​</a></h4><p>The provider name given to the Ditto Client must match a provider name in the Portal (e.g., <code>my-auth</code>).</p><p><img alt="Sample Authentication Webhook Endpoint in the Portal" src="/assets/images/sample-authentication-webhook-endpoint-bcf6ba631bbd3e5b7a4d7f9fc802d2dc.png"></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="what-are-the-permissions-that-you-are-returning-for-this-client">What are the permissions that you are returning for this client?<a aria-hidden="true" class="hash-link" href="#what-are-the-permissions-that-you-are-returning-for-this-client" title="Direct link to heading">​</a></h4><p>Are the permissions allowing write and read access to the collection? Are you able to try the operations with global read and write permission to verify it succeeds in this case?</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="is-your-authclient-becoming-garbage-collected">Is your AuthClient becoming garbage collected?<a aria-hidden="true" class="hash-link" href="#is-your-authclient-becoming-garbage-collected" title="Direct link to heading">​</a></h4><p>Ensure that you keep a reference to the AuthClient in scope for the duration that Ditto is also active.  You should attach the dittoAuth variable to the object so it does not get garbage collected. </p><p>For example:</p><div class="codeBlockContainer_EiTO"><div class="codeBlockContent_X2I6"><pre tabindex="0" class="prism-code language-undefined codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">namespace Sync {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    public class DittoClient {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        private Ditto ditto;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">+       private DittoAuthDelegate dittoAuthDelegate;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        public DittoClient(string appId, string id, string jwt) {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">+          dittoAuthDelegate = new DittoAuthDelegate(id, jwt);</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">           ditto = new Ditto(identity);</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">       ...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">   }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="how-can-i-show-how-many-peers-are-connected">How can I show how many peers are connected?<a aria-hidden="true" class="hash-link" href="#how-can-i-show-how-many-peers-are-connected" title="Direct link to heading">​</a></h3><p>DItto offers an API that you can use to watch all of the peers and their
respective transports that are connected to the current Ditto instance. Use the
<code>ditto.presence</code> API to get real-time updates whenever Ditto&#x27;s network topology
changes. </p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="bluetooth">Bluetooth<a aria-hidden="true" class="hash-link" href="#bluetooth" title="Direct link to heading">​</a></h3><ol><li>Turn Use Location on</li><li>Turn Bluetooth Scanning on</li><li>Are permissions set correctly? See <a href="/javascript/installation">installation</a>.</li><li>Go to your OS-level permissions for Bluetooth and clear the app permissions for your application.</li><li>Delete the app, install it again, and open it. Does it ask for Bluetooth permissions?</li><li>Android only: are you calling <code>ditto.refreshPermissions()</code>?</li></ol><h3 class="anchor anchorWithStickyNavbar_y2LR" id="apple-wireless-direct-link-p2p-wifi-wifi-aware">Apple Wireless Direct Link, P2P-Wifi, Wifi Aware<a aria-hidden="true" class="hash-link" href="#apple-wireless-direct-link-p2p-wifi-wifi-aware" title="Direct link to heading">​</a></h3><ol><li>Are permissions set correctly? See <a href="/javascript/installation">installation</a>.</li><li>Go to your OS-level permissions and clear the app permissions for your application.</li><li>Delete the app, install it again, and open it. Does it ask for location permissions?</li><li>If you are using a custom <code>TransportConfig</code>, make sure you have enabled all peer-to-peer transports using <code>enableAllPeerToPeer()</code>.</li></ol><h3 class="anchor anchorWithStickyNavbar_y2LR" id="local-area-network-lan">Local Area Network (LAN)<a aria-hidden="true" class="hash-link" href="#local-area-network-lan" title="Direct link to heading">​</a></h3><ol><li>Are permissions set correctly? See <a href="/javascript/installation">installation</a>.</li><li>Are both devices connected to the same WiFi network?</li><li>Check your router settings and see the <a href="/javascript/common/mesh-network/supported-transports#local-area-network">LAN troubleshooting guide</a>.</li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="synchronization-seems-slow-or-comes-to-a-halt-over-time">Synchronization seems slow, or comes to a halt over time<a aria-hidden="true" class="hash-link" href="#synchronization-seems-slow-or-comes-to-a-halt-over-time" title="Direct link to heading">​</a></h2><p>Ensure that you are only creating a fixed number of live queries, with a smaller amount of data. Do not use <code>findAll()</code>. </p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="app-is-using-too-much-memory-why">App is using too much memory, why?<a aria-hidden="true" class="hash-link" href="#app-is-using-too-much-memory-why" title="Direct link to heading">​</a></h2><p>Use profiling tools for your platform to better understand where the memory leak
may be occurring. </p><p>A common issue we see in reactive apps is a failure to dispose of resources as
conditions change. Your app could create a large accumulation of publishers that
infinitely grow. Every liveQuery and subscription in ditto must be explicitly
stopped using the <code>stop</code> or <code>cancel</code> API. See <a href="/javascript/common/concepts/syncing-data">snycing data</a> for more information.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="debugging-blocked-transactions">Debugging Blocked Transactions<a aria-hidden="true" class="hash-link" href="#debugging-blocked-transactions" title="Direct link to heading">​</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>💡 This section only discusses blocked transactions on <strong>native</strong> platforms (e.g. iOS, Android, Windows, Linux). Ditto in web browsers operates sufficiently differently and isn’t covered here.</p></div></div><p>Blocked write transactions will automatically retry until they succeed. A
blocked write transaction will never crash. Howewever, blocked write
transactions are a common cause for poor database performance. Long running blocks are
generally bad since they mean that nothing else can be writing to the
database during this time. This could manifest itself as one of many problems:</p><ul><li>Unresponsive UI: an interaction might try to update a document, but is blocked by an existing write transaction</li><li>Slow sync: new updates cannot be integrated into the store, since they’re blocked by another write transaction</li></ul><p>A blocked write transaction can hint that something is wrong with the application code, or at a deeper level in Ditto. This page contains some tips &amp; tricks to help understand the situation.</p><p>The process of unblocking is automatic and you don’t need to write any code to handle this. However, you can drastically reduce the chance of blocking transactions by <strong>making sure a device is only syncing the data it really needs</strong>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="what-is-a-blocked-transaction">What is a “blocked” transaction?<a aria-hidden="true" class="hash-link" href="#what-is-a-blocked-transaction" title="Direct link to heading">​</a></h3><p>At any given time, there can be only one write transaction. Any subsequent
attempts to open another write transaction will become blocked
until the existing write transaction finishes. </p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="read-vs-write-transactions">Read vs. Write Transactions<a aria-hidden="true" class="hash-link" href="#read-vs-write-transactions" title="Direct link to heading">​</a></h3><p>Read transactions operate differently to write transactions.</p><p>Read transactions cannot be blocked and can run in parallel with write transactions. Read transactions don’t block each other, don’t block write transactions, and aren’t blocked by write transactions.</p><p>If a write transaction is blocked, Ditto will log a message with increasing severity every 10s.</p><table><thead><tr><th>Time (t) a transaction has been blocked</th><th>Log Level</th></tr></thead><tbody><tr><td>t ≤ 30s</td><td>DEBUG</td></tr><tr><td>31s &lt; t ≤ 120s</td><td>WARN</td></tr><tr><td>120s &lt; t</td><td>ERROR</td></tr></tbody></table><p>To see these logs in the database, it’s important to have a minimum log level
set. Transactions that are blocked for over 2 minutes should always be visible
in the logs.</p><p>If <code>INFO</code> level is used, then <code>INFO</code>, <code>WARN</code>,  and <code>ERROR</code> messages will all be
included in the logs. This means any write transactions blocking for more than
30s should always be visible in the logs.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="reading-the-logs">Reading the Logs<a aria-hidden="true" class="hash-link" href="#reading-the-logs" title="Direct link to heading">​</a></h3><p>If a write transaction is blocked, the device logs will look something like the following. In this example we can see a write transaction was blocked for a total of 150s (or 2.5 minutes).</p><p><img alt="204421276-4eee2f5d-806d-4d0d-af3e-d96a035d97a0.png" src="/assets/images/troubleshooting-bcf003363710f0246b90b4b01331942e.png"></p><p>As time progressed, Ditto complained more and more loudly (starting with <code>DEBUG</code>
logs before eventually logging at <code>ERROR</code> level). Eventually the existing
transaction finished and blocked transaction was was able to proceed.</p><p>The write transaction which was blocked was for a Ditto internal component. This is identified by
<code>“originator=Internal”</code>. </p><p>The existing, long-running write transaction which was causing the block was a
user call in the public SDK. This is identified by
<code>“blocked_by=User”</code>. So a user-level write transaction is blocking some internal
workload. This is not <em>necessarily</em> a problem, as the internal system will catch up eventually.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="originators">Originators<a aria-hidden="true" class="hash-link" href="#originators" title="Direct link to heading">​</a></h3><p>The three values you’ll see for <code>originator</code> and <code>blocked_by</code> are: </p><table><thead><tr><th>Originator / Blocked By</th><th>Description</th></tr></thead><tbody><tr><td>“User&quot;</td><td>Any user-level API which modifies data.</td></tr><tr><td>“Internal&quot;</td><td>An internal job (presence data, DB maintenance, etc.).</td></tr><tr><td>“Replication&quot;</td><td>Updating the store with data received via replication.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="causes-of-blocked-transactions">Causes of Blocked Transactions<a aria-hidden="true" class="hash-link" href="#causes-of-blocked-transactions" title="Direct link to heading">​</a></h2><p>This section presents a few examples blocked transaction scenarios, how they would appear in logs, and what they might mean.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="user-blocks-user">User blocks User<a aria-hidden="true" class="hash-link" href="#user-blocks-user" title="Direct link to heading">​</a></h3><p>An application might block it&#x27;s own write transactions by performing multiple writes at the same time in different places. If one is slow (perhaps it does too much work, or perhaps it reaches out to external APIs, etc.) then the other write transactions will block until it finishes.</p><div class="codeBlockContainer_EiTO"><div class="codeBlockContent_X2I6 swift"><pre tabindex="0" class="prism-code language-swift codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">// Thread/Queue 1 (starts first):</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">   // Somewhere in the app, a long running write transaction exists</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">   ditto.store[&quot;people&quot;].findByID(docID).update { mutableDoc in</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // Most update tasks are quick, but a developer might</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // doing something slow within the update block:</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    let apiData = getDataFromASlowExternalAPICall() // &lt;-- !!!!</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    mutableDoc?[&quot;age&quot;] = apiData.age</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    mutableDoc?[&quot;ownedCars&quot;].set(DittoCounter())</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    mutableDoc?[&quot;ownedCars&quot;].counter?.increment(by: apiData.count)</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">   }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// Thread/Queue 2 (starts second):</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // Somewhere else in the app, concurrently (e.g. background thread or queue)</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // another write transaction tries to update a document. </span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    //</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // This will block until the &quot;people&quot; update block above completes.</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    let docID = try! ditto.store[&quot;settings&quot;].upsert([</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        &quot;_id&quot;: &quot;abc123&quot;,</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    &quot;preference&quot;: 31,</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ])</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div><p>In logs, this scenario will look like the following:</p><p><code>LOG_LEVEL: Waiting for write transaction (elapsed: XXs), originator=User blocked_by=User</code></p><p>Note that <code>“User”</code> is blocking <code>“User”</code>. This <em>could</em> be temporary, but it could also be a deadlock which is much worse. See below.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="user-deadlocks-user">User deadlocks User<a aria-hidden="true" class="hash-link" href="#user-deadlocks-user" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_EiTO"><div class="codeBlockContent_X2I6 swift"><pre tabindex="0" class="prism-code language-swift codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">// Start a write transaction:</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">ditto.store[&quot;people&quot;].findByID(docID).update { mutableDoc in</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // Start a write transaction _within_ a write transacton.</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // !! Deadlocks !!</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    let docID = try! ditto.store[&quot;settings&quot;].upsert([</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        &quot;_id&quot;: &quot;abc123&quot;,</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        &quot;preference&quot;: 31,</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ]) </span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // ...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div><p>You cannot start a write transaction within a write transaction. The result will be a deadlock which <strong>never</strong> resolves itself. This might manifest itself in the logs as: </p><p><code>LOG_LEVEL: Waiting for write transaction (elapsed: XXs), originator=User blocked_by=User</code></p><p>Note that User blocking User doesn’t necessarily mean a deadlock. It might
merely be a long running write transaction and this situation might be expected
depending on the task. However, if the transaction never unblocks and the log
messages at <code>ERROR</code> level continue forever - you have a strong indication that
there’s a deadlock and should investigate the application code.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="replication-blocks-user">Replication blocks User<a aria-hidden="true" class="hash-link" href="#replication-blocks-user" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_EiTO"><div class="codeBlockContent_X2I6 swift"><pre tabindex="0" class="prism-code language-swift codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">// Somewhere in the app, a simple enough user write transaction is happening.</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// There&#x27;s no other user write transaction happening concurrently in the</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// app, yet the update seems blocked or slow and UI might seems slugglish</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// or unresponsive.</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">let docID = try! ditto.store[&quot;settings&quot;].upsert([</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    &quot;_id&quot;: &quot;abc123&quot;,</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    &quot;preference&quot;: 31,</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">])</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div><p>From the application code, it might not be obvious what the problem is. By looking in the logs, you might get a hint. For instance:</p><p><code>LOG_LEVEL: Waiting for write transaction (elapsed: XXs), originator=User blocked_by=Replication</code></p><p>Here we can see that replication is blocking our user’s write transaction. This might happen if we’ve just received a large amount of sync data from another peer. Most commonly, happens during initial sync (either with the Big Peer, or joining a mesh for the first time, or re-joining a mesh after an extended period away).</p><p>This scenario is something to be aware of, but will resolve itself automatically once the sync is complete. The user transaction will eventually unblock and continue when replication has finished updating the store.  </p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="replication-blocks-replication">Replication blocks Replication<a aria-hidden="true" class="hash-link" href="#replication-blocks-replication" title="Direct link to heading">​</a></h3><p>If you see the following in logs, it’s an indication that one replication session with a remote peer is blocking another: </p><p><code>LOG_LEVEL: Waiting for write transaction (elapsed: XXs), originator=Replication blocked_by=Replication</code></p><p>This can happen when the device has received large amounts of data from multiple peers <strong>simultaneously</strong> and must update the database with the changes it received from each. Ditto can only update the database with sync data from remote peers one at a time, so the other updates must wait their turn.</p><p>This scenario is most likely to happen during a large initial sync - either with the Big Peer <strong>at the same time</strong> as with nearby devices, or just with <strong>multiple</strong> nearby devices when joining a mesh for the first time (or re-joining after an extended period away).</p><p>This scenario is something to be aware of, but will resolve itself automatically once the sync is complete. You can drastically reduce the chance of this type of blocking transaction by <strong>making sure each device is only syncing the data it really needs</strong>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="user-or-replication-blocks-internal">User or Replication blocks Internal<a aria-hidden="true" class="hash-link" href="#user-or-replication-blocks-internal" title="Direct link to heading">​</a></h3><p>A long running write transaction might block an internal job. This scenario will be the least obvious to spot and it might not be obvious that it’s happening at all. It’s also the least likely to cause actual problems.</p><div class="codeBlockContainer_EiTO"><div class="codeBlockContent_X2I6 swift"><pre tabindex="0" class="prism-code language-swift codeBlock_UxnK thin-scrollbar"><code class="codeBlockLines_W6UD"><span class="token-line" style="color:#9CDCFE"><span class="token plain">// Somewhere in the app, a long running write transaction exists</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">ditto.store[&quot;people&quot;].findByID(docID).update { mutableDoc in</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // Most update tasks are quick, but you might</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    // doing something slow within the update block</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    let apiData = getDataFromASlowExternalAPICall() // &lt;-- !!!!</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    mutableDoc?[&quot;age&quot;] = apiData.age</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    mutableDoc?[&quot;ownedCars&quot;].set(DittoCounter())</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    mutableDoc?[&quot;ownedCars&quot;].counter?.increment(by: apiData.count)</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_V-PD clean-btn"><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="w-4 h-4 inline mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg><span class="text-xs">Copy</span></div></button></div></div><p>In logs, you might see the following:</p><p><code>LOG_LEVEL: Waiting for write transaction (elapsed: XXs), originator=Internal blocked_by=User</code></p><p>or:</p><p><code>LOG_LEVEL: Waiting for write transaction (elapsed: XXs), originator=Internal blocked_by=Replication</code></p><p>i.e. something is blocking <code>Internal</code>.</p><p>This might not have any observable effect, but if it does, it is most likely to manifest as slow/unreliable Ditto Bus connections, an inaccurate presence viewer, or slow/unreliable multihop replication. Ditto&#x27;s internal mesh presence component must persist an update every 30s for these systems to keep working. If presence can’t do this because it’s blocked by another write transaction, those systems will begin to to fail until presence can successfully write its next update. This scenario should automatically recover just fine once the blocking write transaction finishes.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/getditto/docs/edit/main/docs/common/troubleshooting.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/common/faq"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Frequently Asked Questions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/common/v2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">2.0 Migration Guide<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#android-and-ios-apps-are-not-syncing-why" class="table-of-contents__link toc-highlight">Android and iOS apps are not syncing, why?</a><ul><li><a href="#online-playground" class="table-of-contents__link toc-highlight">Online Playground</a></li><li><a href="#online-with-authentication" class="table-of-contents__link toc-highlight">Online with Authentication</a></li><li><a href="#how-can-i-show-how-many-peers-are-connected" class="table-of-contents__link toc-highlight">How can I show how many peers are connected?</a></li><li><a href="#bluetooth" class="table-of-contents__link toc-highlight">Bluetooth</a></li><li><a href="#apple-wireless-direct-link-p2p-wifi-wifi-aware" class="table-of-contents__link toc-highlight">Apple Wireless Direct Link, P2P-Wifi, Wifi Aware</a></li><li><a href="#local-area-network-lan" class="table-of-contents__link toc-highlight">Local Area Network (LAN)</a></li></ul></li><li><a href="#synchronization-seems-slow-or-comes-to-a-halt-over-time" class="table-of-contents__link toc-highlight">Synchronization seems slow, or comes to a halt over time</a></li><li><a href="#app-is-using-too-much-memory-why" class="table-of-contents__link toc-highlight">App is using too much memory, why?</a></li><li><a href="#debugging-blocked-transactions" class="table-of-contents__link toc-highlight">Debugging Blocked Transactions</a><ul><li><a href="#what-is-a-blocked-transaction" class="table-of-contents__link toc-highlight">What is a “blocked” transaction?</a></li><li><a href="#read-vs-write-transactions" class="table-of-contents__link toc-highlight">Read vs. Write Transactions</a></li><li><a href="#reading-the-logs" class="table-of-contents__link toc-highlight">Reading the Logs</a></li><li><a href="#originators" class="table-of-contents__link toc-highlight">Originators</a></li></ul></li><li><a href="#causes-of-blocked-transactions" class="table-of-contents__link toc-highlight">Causes of Blocked Transactions</a><ul><li><a href="#user-blocks-user" class="table-of-contents__link toc-highlight">User blocks User</a></li><li><a href="#user-deadlocks-user" class="table-of-contents__link toc-highlight">User deadlocks User</a></li><li><a href="#replication-blocks-user" class="table-of-contents__link toc-highlight">Replication blocks User</a></li><li><a href="#replication-blocks-replication" class="table-of-contents__link toc-highlight">Replication blocks Replication</a></li><li><a href="#user-or-replication-blocks-internal" class="table-of-contents__link toc-highlight">User or Replication blocks Internal</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Documentation</a></li><li class="footer__item"><a href="https://www.ditto.live/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Main Website</span></a></li><li class="footer__item"><a href="https://github.com/getditto/samples" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Example Apps</span></a></li><li class="footer__item"><a class="footer__link-item" href="/changelog">Changelog</a></li><li class="footer__item"><a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Login</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/getditto/docs/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub Discussions</span></a></li><li class="footer__item"><a href="https://github.com/getditto/docs/discussions/categories/roadmap-and-ideas" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Roadmap</span></a></li><li class="footer__item"><a href="https://github.com/getditto/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Open Source</span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/ditto" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow</span></a></li><li class="footer__item"><a href="https://twitter.com/dittolive" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter</span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 DittoLive, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f1cf67ce.js"></script>
<script src="/assets/js/main.86d17a58.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PV7QFWF" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>